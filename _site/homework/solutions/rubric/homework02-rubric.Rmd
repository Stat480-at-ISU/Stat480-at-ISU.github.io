```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

### Format example

1. The questions are numbered and in plain text.

:::sol
An example solution is in the black box.
:::

:::rubric
The grading guidelines are in the teal box. I will try to provide details on how many points the question is worth and how many points to deduct for errors. The remaining points will be rewarded if any attempt has been made.
:::


**Due date**: the homework is due before class on Thursday. 

**For the submission**: submit your solution in an R Markdown file and (just for insurance) submit the corresponding html file with it. 


### Economic Guide to Picking a College Major

1. Download the RMarkdown file with these homework instructions to use as a template for your work. Make sure to replace "Your Name" in the YAML with your name.

:::rubric
+.5pt for YAML  
-.25 for not changing name
:::


2. Using the command below, read in the data set into your R session. 

:::sol
```{r}
recent_grads <- read.csv("https://raw.githubusercontent.com/Stat480-at-ISU/materials-2020/master/02_r-intro/data/recent_grads.csv")
```
:::

:::rubric
+1pt  
:::

3. Create a new variable, `share_women`,  in the dataset that is women as share of total; i.e. the number of women divided by the total number of men and women.

:::sol
```{r}
recent_grads$share_women <- recent_grads$Women / (recent_grads$Women + recent_grads$Men)
```
:::

:::rubric
+1pt  
-.5pt if incorrectly calculated  
-.25pt if new variable is not saved as a variable in the data set  
:::

4. Create a subset of the data containing only the rows where the `Major_category` is `STEM`.

:::sol
```{r}
recent_grads_subset <- recent_grads[recent_grads$Major_category == "STEM", ]
```
:::

:::rubric
+1pt  
-.5pt if incorrectly calculated 
:::

5. For your subset, compute the average  of `share_women` and its standard deviation. Also compute the mean median earnings (`Median`) and its standard deviation. Comment on the results. (You might have to deal with missing values appropriately).

:::sol
```{r}
mean(recent_grads_subset$share_women, na.rm = TRUE)
sd(recent_grads_subset$share_women, na.rm = TRUE)
mean(recent_grads_subset$Median)
sd(recent_grads_subset$Median)
```

For the STEM majors, the average percentage of women is approximately 47.5% and the standard deviation is approximately 23.7%. Again for the STEM majors, the average median income is approximately \$43,000 and the standard deviation is approximately \$12,800. 
:::

:::rubric
+3pt  
-.5pt for each incorrect calculation (4 calculations)  
-.5pt for incorrect interpretation  
:::

5. Again using the subset, compute the correlation between women as a share of total (`share_women`) and the median earnings (`Median`) and interpret your results.

:::sol
```{r}
cor(recent_grads_subset$share_women, recent_grads_subset$Median, use = "complete.obs")
# will also accept:
cor(recent_grads$share_women, recent_grads$Median, use = "complete.obs")
```

The correlation between these two variables is approx. -0.61 indicating that there is a moderately strong negative association. That is, as the share of women increases, we tend to see a decrease in the median pay.
:::

:::rubric
+1 pt  
-.5pt incorrect calculation  
-.5pt for incorrect interpretation 
:::


6. Use the original dataset and `ggplot2` to draw a scatterplot of women as share of total and the median earnings. Color points by the major category (`Major_category`). Comment on the result. 

:::sol
```{r}
library(ggplot2)
ggplot(recent_grads, aes(x = share_women, y = Median, color = Major_category)) + geom_point()
```
The scatterplot again indicates that there is a negative assocation between the two variables. That is, as the share of women increases, we tend to see a decrease in the median pay. We can also see that this relationship may hold for the entire dataset, not just the STEM majors. 
:::

:::rubric
+2.5pt  
-.5pt for not specifying either of the two variables for x and y  
-.5pt for not specifying color variable  
-.5pt for not specifying the point geom  
-.5pt for incorrect interpretation
:::



